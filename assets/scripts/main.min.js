(() => {
    var e = document.querySelector(".feedback-modal"),
        t = document.querySelector(".feedback"),
        o = document.querySelector(".feedback-modal__form"),
        r = document.querySelector(".feedback-close-button"),
        c = document.querySelector(".confirm-button"),
        n = document.getElementById("name"),
        s = document.getElementById("phone"),
        a = /^(\+7|7|8)?[\s\-]?\(?[489][0-9]{2}\)?[\s\-]?[0-9]{3}[\s\-]?[0-9]{2}[\s\-]?[0-9]{2}$/,
        i = document.getElementById("feedback-form"),
        l = document.querySelector(".success-modal-close"),
        d = document.querySelector(".header__mobile-burger"),
        u = document.querySelector(".header"),
        m = document.querySelector(".header__bottom");
    new Swiper(".swiper", {
        direction: "horizontal",
        loop: !0,
        pagination: {
            el: ".swiper-pagination",
            clickable: !0
        },
        navigation: {
            nextEl: ".swiper-button-next",
            prevEl: ".swiper-button-prev"
        }
    }), t.addEventListener("click", (function() {
        e.classList.add("active"), document.querySelector("body").style.overflowY = "hidden"
    })), document.addEventListener("click", (function(c) {
        var a = c.target,
            i = a === o || o.contains(a),
            d = a === t,
            u = a === r,
            m = a === l,
            v = e.classList.contains("active");
        (!i && !d && v || u || m) && (e.classList.remove("active"), document.querySelector("body").style.overflowY = "scroll", setTimeout((function() {
            o.classList.remove("sent"), n.classList.remove("error"), s.classList.remove("error")
        }), "500"), n.value = "", s.value = "")
    })), c.addEventListener("click", (function() {
        "" === n.value ? n.classList.add("error") : n.classList.remove("error"), a.test(s.value) ? s.classList.remove("error") : s.classList.add("error")
    })), i.addEventListener("submit", (function(e) {
        e.preventDefault();
        var t = new FormData(i),
            r = t.get("name"),
            c = t.get("phone");
        "" !== r && a.test(c) && (o.classList.add("sent"), n.value = "", s.value = "")
    })), d.addEventListener("click", (function() {
        u.classList.toggle("active")
    })), document.addEventListener("click", (function(e) {
        var t = e.target;
        t === m || m.contains(t) || t === d || u.classList.remove("active")
    }))
})();